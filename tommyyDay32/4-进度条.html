<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <style>
      .box {
        width: 300px;
        height: 20px;
        border: 1px solid #ccc;
      }
      .small {
        width: 0;
        height: 20px;
        background: #abcdef;
      }
    </style>
  </head>
  <body>
    <!-- 大盒子里放一个小盒子，通过给小盒子设定宽度形成进度条效果 -->
    <div class="box">
      <div class="small"></div>
    </div>
    <button class="upload">上传</button>
    <button class="stop">停止</button>
    <button class="continue">继续</button>
    <button class="zero">归零</button>
  </body>
  <script type="text/javascript">
    //获取相关元素
    var smallBox = document.querySelector(".small");
    var bigBox = document.querySelector(".box").clientWidth;
    var timer;
    //设置上传功能
    document.querySelector(".upload").onclick = function () {
      var w = parseInt(window.getComputedStyle(smallBox).width);
      if (w != 0) {
        return;
      }
      timer = setInterval(function () {
        w += 1;
        if (w >= bigBox) {
          w = 300;
        }
        smallBox.style.width = w + "px";
      }, 20);
    };

    //停止功能
    document.querySelector(".stop").onclick = function () {
      clearInterval(timer);
    };

    //继续功能
    document.querySelector(".continue").onclick = function () {
      var w = parseInt(window.getComputedStyle(smallBox).width);
      timer = setInterval(() => {
        w += 1;
        if (w >= bigBox) {
          w = 300;
        }
        smallBox.style.width = w + "px";
      }, 20);
    };
    //清零功能
    document.querySelector(".zero").onclick = function () {
      smallBox.style.width = 0;
    };
  </script>
</html>
